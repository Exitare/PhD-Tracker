{% extends "base.html" %}

{% block title %}Create Project{% endblock %}

{% block content %}
<h1 class="mb-4 text-center display-5 text-primary">üéØ AI Goal Planner</h1>

  <div class="card shadow tracker-card p-4">
    <div class="card-body">
      <form method="POST" onsubmit="showLoadingMessage()">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="mb-4">
          <label for="title" class="form-label">Project Title</label>
          <input type="text" class="form-control form-control-lg" id="title" name="title"
                 placeholder="e.g., Thesis Chapter 1" required/>
        </div>
        <div class="mb-4">
          <label for="goal" class="form-label">Goal Description</label>
          <textarea class="form-control form-control-lg" id="goal" name="goal"
                    placeholder="e.g., Write and revise the first chapter of my PhD thesis on melanoma genomics"
                    rows="3" required></textarea>
        </div>
        <div class="mb-4">
          <label for="deadline" class="form-label">Deadline</label>
          <input type="date" class="form-control form-control-lg" id="deadline" name="deadline" required/>
        </div>
        <button type="submit" class="btn btn-primary w-100">‚ú® Generate Milestones</button>
      </form>

      <div id="loadingIndicator" class="text-center text-muted" style="display: none;">
        <div class="spinner-border text-primary mt-3" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <p class="mt-2">Creating milestones...</p>
      </div>

      <div class="text-center back-btn">
        <a href="{{ url_for('dashboard.dashboard') }}" class="btn btn-outline-secondary">‚Üê Back to Dashboard</a>
      </div>
    </div>
  </div>
{% endblock %}

{% block scripts %}
<script>
  function showLoadingMessage() {
    document.getElementById('loadingIndicator').style.display = 'block';
  }
</script>
{% endblock %}